<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Meu Perfil | LPV</title>
    
    <script>
        (function() {
            document.documentElement.setAttribute('data-theme', 'dark');
        })();
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/global.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="../assets/images/lpvminilogo2.png">

    <style>
        .profile-header-card {
            display: flex; flex-direction: column; align-items: center; text-align: center;
            padding: 2rem; margin-bottom: 1.5rem;
        }
        .profile-avatar-large {
            width: 100px; height: 100px; border-radius: 50%;
            background: var(--gradient-main);
            display: flex; align-items: center; justify-content: center;
            font-size: 3rem; color: white; margin-bottom: 1rem;
            box-shadow: 0 10px 25px rgba(2, 132, 199, 0.3);
        }
        .profile-data-group {
            width: 100%; text-align: left; margin-bottom: 1rem;
            padding: 1rem; border-bottom: 1px solid var(--border-glass);
        }
        .profile-label { font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 4px; }
        .profile-value { font-size: 1.1rem; font-weight: 600; color: var(--text-primary); }
    </style>
</head>
<body>

    <aside class="desktop-sidebar">
        <div class="sidebar-header">
            <img src="../assets/images/lpvminilogo2.png" class="light-mode-only" style="height: 40px;">
            <img src="../assets/images/lpvminilogo.png" class="dark-mode-only" style="height: 40px;">
            <div style="line-height: 1;">
                <div style="font-weight: 800; font-size: 1.2rem; color: var(--color-primary-dark);">LPV Digital</div>
                <div style="font-size: 0.75rem; color: var(--text-secondary);">Patologia Veterinária</div>
            </div>
        </div>
        <nav class="sidebar-nav">
            <a href="hub.html" class="sidebar-link"><i class="fas fa-home"></i> <span>Visão Geral</span></a>
            <a href="mural.html" class="sidebar-link"><i class="fas fa-columns"></i> <span>Mural de Tarefas</span></a>
            <a href="coloracao.html" class="sidebar-link"><i class="fas fa-stopwatch"></i> <span>Timers & Bancada</span></a>
            <a href="protocolos.html" class="sidebar-link"><i class="fas fa-book-medical"></i> <span>Protocolos</span></a>
            <a href="planner.html" class="sidebar-link"><i class="fas fa-calendar-alt"></i> <span>Planner</span></a>
            <button class="sidebar-link btn-sidebar-new" ><i class="fas fa-plus"></i> <span>Nova Entrada</span></button>
        </nav>
        <div class="sidebar-footer">
            <div class="sidebar-user-avatar"><i class="fas fa-user"></i></div>
            <div class="sidebar-user-info">
                <div id="sidebar-user-name" class="user-name-text">...</div>
                <div id="sidebar-user-role" class="user-role-text">...</div>
            </div>
        </div>
    </aside>

    <div class="layout-wrapper">
        <header class="app-header">
            <div class="header-brand">
                <img src="../assets/images/lpvminilogo2.png" class="header-logo light-mode-only">
                <img src="../assets/images/lpvminilogo.png" class="header-logo dark-mode-only">
                <div class="header-text-column">
                    <span class="brand-title">Meu Perfil</span>
                </div>
            </div>
            <div style="display: flex; gap: 10px;"></div>
        </header>

        <main class="main-container">
            
            <div class="card profile-header-card fade-in">
                <div class="profile-avatar-large"><i class="fas fa-user"></i></div>
                <h2 id="profile-display-name" style="font-size: 1.5rem; font-weight: 800; margin-bottom: 5px;">Carregando...</h2>
                <span id="profile-display-role" class="user-badge" style="font-size: 0.9rem; padding: 4px 12px;">...</span>
            </div>

            <div class="card fade-in" style="padding: 0;">
                <div class="profile-data-group">
                    <div class="profile-label">Email Cadastrado</div>
                    <div id="profile-display-email" class="profile-value">...</div>
                </div>

            </div>

            <div style="margin-top: 2rem; display: flex; flex-direction: column; gap: 1rem;">
                <button id="logout-btn-profile" class="btn" style="background: rgba(239, 68, 68, 0.1); color: var(--color-error); width: 100%;">
                    <i class="fas fa-sign-out-alt"></i> Sair da Conta
                </button>
            </div>

        </main>
    </div>

    <nav class="bottom-nav">
        <a href="hub.html" class="nav-item"><i class="fas fa-home"></i><span>Início</span></a>
        <a href="mural.html" class="nav-item"><i class="fas fa-columns"></i><span>Mural</span></a>
        <div class="nav-fab-container">
            <button class="nav-fab"><i class="fas fa-plus"></i></button>
        </div>
        <a href="coloracao.html" class="nav-item"><i class="fas fa-stopwatch"></i><span>Timers</span></a>
        
        <a href="perfil.html" class="nav-item active">
            <i class="fas fa-user-circle"></i>
            <span id="mobile-user-name">Perfil</span>
        </a>
    </nav>

    <script type="module" src="../assets/js/core.js"></script>
    <script type="module">
        import { auth, signOut } from '../assets/js/core.js';
        
        // Botão de Logout específico desta página
        document.getElementById('logout-btn-profile').addEventListener('click', async () => {
            await signOut(auth);
        });
    </script>
</body>
</html>